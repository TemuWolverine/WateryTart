<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:WateryTart.Platform.Linux.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="WateryTart.Platform.Linux.Views.GpioVolumeSettingsView"
             x:DataType="vm:GpioVolumeSettingsViewModel">

  <ScrollViewer>
    <StackPanel Spacing="20">
      <!-- Header -->
      <TextBlock Text="GPIO Settings" FontSize="24" FontWeight="Bold" />

      <!-- Enable/Disable Toggle -->
      <Border BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="4" Padding="16">
        <Grid ColumnDefinitions="*,Auto">
          <StackPanel Grid.Column="0" Spacing="4">
            <TextBlock Text="Enable GPIO Volume Control" FontWeight="SemiBold" FontSize="14" />
            <TextBlock Text="Use GPIO pins to control volume levels" Foreground="#666666" FontSize="12" />
          </StackPanel>
          <ToggleSwitch Grid.Column="1" IsChecked="{Binding IsEnabled}" VerticalAlignment="Center" />
        </Grid>
      </Border>

      <!-- GPIO Configuration Section (Disabled when not enabled) -->
      <StackPanel Spacing="16" IsEnabled="{Binding IsEnabled}">
        
        <!-- Pin A Configuration -->
        <Border BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="4" Padding="16">
          <StackPanel Spacing="8">
            <TextBlock Text="Pin A (CLK)" FontWeight="SemiBold" FontSize="14" />
            <TextBlock Text="GPIO pin for clock signal"  FontSize="11" />
            <NumericUpDown Value="{Binding PinA}" 
                          Minimum="0" 
                          Maximum="27"
                          Increment="1"
                          FormatString="0"
                          Watermark="GPIO Pin Number" />
          </StackPanel>
        </Border>

        <!-- Pin B Configuration -->
        <Border BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="4" Padding="16">
          <StackPanel Spacing="8">
            <TextBlock Text="Pin B (DT)" FontWeight="SemiBold" FontSize="14" />
            <TextBlock Text="GPIO pin for data signal" FontSize="11" />
            <NumericUpDown Value="{Binding PinB}" 
                          Minimum="0" 
                          Maximum="27"
                          Increment="1"
                          FormatString="0"
                          Watermark="GPIO Pin Number" />
          </StackPanel>
        </Border>

        <!-- Pulses Per Turn Configuration -->
        <Border  BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="4" Padding="16">
          <StackPanel Spacing="8">
            <TextBlock Text="Pulses Per Turn" FontWeight="SemiBold" FontSize="14" />
            <TextBlock Text="Number of pulses for one full rotation" FontSize="11" />
            <NumericUpDown Value="{Binding PulsesPerTurn}" 
                          Minimum="1" 
                          Maximum="200"
                          Increment="1"
                          FormatString="0"
                          Watermark="Pulses" />
          </StackPanel>
        </Border>

        <!-- Current Configuration Display -->
        <Border  BorderBrush="#0078D4" BorderThickness="1" CornerRadius="4" Padding="12">
          <StackPanel Spacing="8">
            <TextBlock Text="Current Configuration" FontWeight="SemiBold" FontSize="12"  />
            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto">
              <TextBlock Grid.Row="0" Grid.Column="0" Text="Pin A:" FontSize="11" />
              <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding PinA}" FontSize="11" />
              
              <TextBlock Grid.Row="1" Grid.Column="0" Text="Pin B:" FontSize="11" />
              <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding PinB}" FontSize="11" />
              
              <TextBlock Grid.Row="2" Grid.Column="0" Text="Pulses/Turn:" FontSize="11" />
              <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding PulsesPerTurn}" FontSize="11" />
            </Grid>
          </StackPanel>
        </Border>

      </StackPanel>

      <!-- Disabled State Message -->
      <TextBlock Text="GPIO settings are disabled. Enable the toggle above to configure." 
                  
                 FontSize="12"
                 IsVisible="{Binding !IsEnabled}"
                 TextWrapping="Wrap" />

    </StackPanel>
  </ScrollViewer>

</UserControl>
